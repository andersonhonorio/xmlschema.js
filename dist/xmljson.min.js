var xmljson={toXML:function(a){function b(a,c){var d="";for(var e in a)if("object"==typeof a[e]){if(a[e]instanceof Array)for(var f in a[e]){for(var g=0;g<c;g++)d+="\t";if(d+="<"+e+">","object"==typeof a[e][f]){d+="\n",d+=b(a[e][f],c+1);for(var g=0;g<c;g++)d+="\t"}else d+=a[e][f];d+="</"+e+">\n"}else if("value"===e&&void 0!==a.attributes)d+=a[e];else if("attributes"!==e){for(var g=0;g<c;g++)d+="\t";d+="<"+e;for(var h in a[e].attributes)d+=" "+h+'="'+a[e].attributes[h]+'"';var i=b(a[e],c+1);if(i){if(d+=">",i.indexOf("<")>-1&&(d+="\n"),d+=i,i.indexOf("<")>-1)for(var g=0;g<c;g++)d+="\t";d+="</"+e+">\n"}else d+=" />\n"}}else if("value"===e&&void 0!==a.attributes)d+=a[e];else{for(var g=0;g<c;g++)d+="\t";d+="<"+e+">"+a[e]+"</"+e+">\n"}return d}var c=a;return"string"==typeof c&&(c=JSON.parse(c)),b(c,0)},toJSON:function(a){function b(a){if("object"==typeof a){if(a instanceof XMLDocument)return a;if("undefined"!=typeof jQuery&&a instanceof jQuery){var c=$(a.children()[0]).html(),d=a.children()[0].tagName,e="<"+d;return $.each(a.children()[0].attributes,function(){e+=" "+this.name+'="'+this.value+'"'}),e+=">\n"+c+"\n<"+d+">",b(e)}}else if("string"==typeof a){if("undefined"!=typeof DOMParser){var f=new DOMParser;return f.parseFromString(a,"application/xml")}var g=new XMLDocument;return g.loadXML(a),g}}function c(a){var b=null,d=!1;if(a.attributes)for(var e=0;e<a.attributes.length;e++)b||(b={attributes:{}}),b.attributes[a.attributes[e].name]=a.attributes[e].value;return a.childNodes.forEach(function(a){a.nodeType===Node.ELEMENT_NODE&&(b||(b={}),void 0===b[a.tagName]||b[a.tagName]instanceof Array||(console.log("Array"),b[a.tagName]=[b[a.tagName]]),b[a.tagName]instanceof Array?b[a.tagName].push(c(a)):b[a.tagName]=c(a),d=!0)}),!d&&a.firstChild&&(b?b.value=a.firstChild.nodeValue:b=a.firstChild.nodeValue),b}var d=b(a);return c(d)}};